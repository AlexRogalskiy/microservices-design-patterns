spring:
    cloud:
        config:
            server:
                git:
                    uri: https://github.com/rodrigorodrigues/microservices-design-patterns.git
                    clone-on-start: true
                    searchPaths: config-server/configuration
                    timeout: 60
                    skip-ssl-validation: true
    application:
        name: config-server
    session:
        store-type: redis
eureka:
    client:
        serviceUrl:
            defaultZone: ${EUREKA_SERVER:http://127.0.0.1:8761/eureka/}

configuration:
    user: admin
    password: "{cipher}b7fc7cec8e7aab24648723258da87a8d09ad7cef7b0a2842738884496a9fbb53"

encrypt:
    key: 520326009ae66e5eeebeff2e5bba5a734cc09302c9b04f3c0ac445c30b76f36ada8fb965e99c6b7eb0f86d2deb7a6993cf1ec515450d3b19799c72aaa53b8a63

logging:
    file: ${LOGGING_PATH:/tmp/}${spring.application.name}.log

management:
    endpoints:
        web:
            exposure:
                include: '*'

---
spring:
    profiles: native
    cloud:
        config:
            server:
                native:
                    search-locations: file:./config-server/configuration/

---
spring:
    profiles: prod
    sleuth:
        sampler:
            probability: 0.1

security:
    basic:
        enabled: false

eureka:
    instance:
        preferIpAddress: ${PREFER_IP_ADDRESS:true}
        nonSecurePortEnabled: ${NON_SECURE_PORT_ENABLED:false}
        securePortEnabled: ${SECURE_PORT_ENABLED:true}
        securePort: ${server.port}
        secureHealthCheckUrl: https://${spring.cloud.client.hostname}:${management.server.port}${management.server.servlet.context-path:}/${endpoints.health.id:health}
        healthCheckUrl: https://${spring.cloud.client.hostname}:${management.server.port}${management.server.servlet.context-path:}/${endpoints.health.id:health}
        statusPageUrl: https://${spring.cloud.client.hostname}:${management.server.port}${management.server.servlet.context-path:}/${endpoints.health.id:info}
        leaseExpirationDurationInSeconds: 45
        metadata-map:
            host.name: ${spring.cloud.client.hostname:}
            management.server.port: ${management.server.port:}
            metrics.path: ${management.server.servlet.context-path:}/${endpoints.prometheus.id:prometheus}
            health.path: ${management.server.servlet.context-path:}/${endpoints.health.id:health}
            management.server.servlet.context-path: ${management.server.servlet.context-path:}
